<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Video Watcher</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
    <script type="text/javascript" src="../script/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="../script/youtube.js"></script>
</head>

<body>

    <div class="container">

        <div class="row">
            <div class="span12">
                <h2 class="page-header">Best Videos Ever ‚ù§</h2>
            </div>
        </div>

        <div class="row">
            <div class="span3">
                <ul>
                    <li><a href="https://www.youtube.com/watch?v=TddFnTB_7IM">Trip through the 80s</a></li>
                    <li><a href="https://www.youtube.com/watch?v=epUk3T2Kfno">Otters Holding Hands</a></li>
                    <li><a href="https://www.youtube.com/watch?v=il2IrgFHfsg">The Ooooh Cat</a></li>

                </ul>
            </div>

        </div>
        <div id="videoplayer" style="border: 1px solid black; display: block">


        </div>
    </div>

    <script>
        
        
          function playTheVideo(event) {
            event.preventDefault();
            var href = event.target.getAttribute('href');
            var videoDiv = $('#videoplayer')
            var embedCode = youtube.generateEmbedUrl(href);
            var iframe = $('<iframe></iframe>');
            iframe.attr('src', embedCode);
            videoDiv.html(iframe);


        }
        
        function thumbnailify(linkUrl) {
            var thumbnailImg = $('<img>');
            var thumbnailUrl = youtube.generateThumbnailUrl(linkUrl)
            thumbnailImg.attr('src', thumbnailUrl);
            videoLink.prepend(thumbnailImg);
            videoLink.on('click', playTheVideo);
            
        }


        var videoLinks = $('a');
        for (var i = 0; i < videoLinks.length; i++) {
            var videoLink = $(videoLinks[i]);
            var linkUrl = videoLink.attr('href');
            thumbnailify(linkUrl);

        }


    </script>


</body>

</html>
